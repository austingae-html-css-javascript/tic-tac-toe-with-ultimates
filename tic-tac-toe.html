<!--
  Goal: Use my current knowledge of HTML, CSS, and Javascript to create the Tic-Tae-Toe game 
  without any video tutorial except for the help of online resources, including stackoverflow, 
  geeksforgeeks, and w3school. 
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Bunny-Turtle-Toe</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Carter+One&display=swap" rel="stylesheet">

    <style>
      body {
        font-family: 'Carter One';
      }

      p {
        display: inline-block;
        margin: 0px;
      }

      #bunny-turtle-toe-DIV {
        display:flex;
        flex-direction: column;
        align-items: center;

        position: relative;
      }

      #bunny-in-the-title, #bunny-scoreboard {
        color: rgb(243,170,184);
      }

      #turtle-in-the-title, #turtle-scoreboard {
        color: rgb(19,137,102);
      }

      #toe-in-the-title {
        color: rgb(201,142,130);
      }

      #middle-div {
        display:grid;
        grid-template-rows: 170px 170px 170px;
        grid-template-columns: 170px 170px 170px;

        border-style: solid;
        border-color: black;
      }

      .bunny-turtle-toe-squares {
        border-style: solid;
        border-color: black;
      }

      #bottom-div {
        display:flex;
        flex-direction: row;
        
        margin-top: 20px;
      }

      #turtle-scoreboard-div {
        margin-left: 50px;
        margin-right: 50px;
      }

      #player-1-character-selection-div,
      #player-2-character-selection-div {
        position: absolute; 
      }

      .player-name-and-character-description-div {
        display:flex;
        flex-direction: row;
        margin-bottom: 20px;
      }

      .character-description-div {
        width: 440px;
        height: 40px;
      }

      #player-1-character-description, 
      #player-2-character-description {
        font-size: 12px;
      }

      .player-name-div {
        margin-right: 20px;
      }

      #player-1-character-selection-images-div, 
      #player-2-character-selection-images-div {
        display:flex;
        flex-direction: row;

        margin-bottom: 20px;
      }

      .character-images {
        width: 75px;
        border-style: solid;
      }

      .character-images-div {
        margin-right: 10px;
      }

      .lock-in-div {
        float: right; 
      }
    </style>
  </head>

  <body>
      <div id="bunny-turtle-toe-DIV">
        <div id="top-div"> <!--title: Bunny-Turtle-Toe-->
          <h1><span id="bunny-in-the-title">Bunny</span>-<span id="turtle-in-the-title">Turtle</span>-<span id="toe-in-the-title">Toe</span></h1>
        </div>
  
        <div id="middle-div"> 
          <div id="square0" class="bunny-turtle-toe-squares"></div>
          <div id="square1" class="bunny-turtle-toe-squares"></div>
          <div id="square2" class="bunny-turtle-toe-squares"></div>
          <div id="square3" class="bunny-turtle-toe-squares"></div>
          <div id="square4" class="bunny-turtle-toe-squares"></div>
          <div id="square5" class="bunny-turtle-toe-squares"></div>
          <div id="square6" class="bunny-turtle-toe-squares"></div>
          <div id="square7" class="bunny-turtle-toe-squares"></div>
          <div id="square8" class="bunny-turtle-toe-squares"></div>
        </div>
  
        <div id="bottom-div">
          <div id="bunny-scoreboard-div"> <!--bunny wins: #-->
            <p id="bunny-scoreboard">Bunny Wins: </p>
            <p> 0</p>
          </div>
  
          <div id="turtle-scoreboard-div"> <!--turtle wins: #-->
            <p id="turtle-scoreboard">Turtle Wins:</p>
            <p> 0</p>
          </div>

          <div id="player-turn-div">
            <p>Turn: </p>
            <p id="player-turn"></p>
          </div>
        </div>

        <div id="player-1-character-selection-div">
          <div class="player-name-and-character-description-div">
            <div class="player-name-div">
              <p id="player-1-name"></p>
            </div>

            <div class="character-description-div">
              <p id="player-1-character-description"></p>
            </div>
          </div>

          <div id="player-1-character-selection-images-div">
            <div class="character-images-div">
              <img class="character-images" id="player-1-bunny" src="images/bunny.png">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-1-turtle" src="images/turtle.png">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-1-genghiskhan" src="images/genghiskhan.webp">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-1-doctorstrange" src="images/doctorstrange.webp">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-1-scarletwitch" src="images/scarletwitch.webp">
            </div>
            <div>
              <img class="character-images" id="player-1-steve" src="images/steve.jpg">
            </div>
          </div>

          <div class="lock-in-div">
            <button>LOCK IN</button>
          </div>
        </div>


        <div id="player-2-character-selection-div">
          <div class="player-name-and-character-description-div">
            <div class="player-name-div">
              <p id="player-2-name"></p>
            </div>

            <div class="character-description-div">
              <p id="player-2-character-description"></p>
            </div>
          </div>

          <div id="player-2-character-selection-images-div">
            <div class="character-images-div">
              <img class="character-images" id="player-2-bunny" src="images/bunny.png">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-2-turtle" src="images/turtle.png">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-2-genghiskhan" src="images/genghiskhan.webp">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-2-doctorstrange"  src="images/doctorstrange.webp">
            </div>
            <div class="character-images-div">
              <img class="character-images" id="player-2-scarletwitch"  src="images/scarletwitch.webp">
            </div>
            <div>
              <img class="character-images" id="player-2-steve"  src="images/steve.jpg">
            </div>
          </div>

          <div class="lock-in-div">
            <button>LOCK IN</button>
          </div>
        </div>

      </div>

    <script>
      const players = [
        {
          player: "player1",
          character: "",
          turn: null
        },
        {
          player: "player2",
          character: "",
          turn: null
        }];

      let bunnyTurtleBoard = [
        "","","", //[0] == square0,[1] == square1,[2] == square2,
        "","","", //[3] == square3,[4] == square4,[5] == square5,
        "","",""  //[6] == square6,[7] == square7,[8] == square8
      ];

      let winner = "";

      characterSelectionTime = true;
      characterSelection(characterSelectionTime);

      startingPlayer();

      document.getElementById("middle-div").addEventListener("click", function(event) {
        if (players[0].turn == true) { //if Bunny's turn...
          //player Bunny takes its turn.
          let img = document.createElement("img");
          img.src = "images/bunny.png";
          img.style.cssText = "width: 100%";
          document.getElementById(event.target.id).appendChild(img);

          /* The visible bunny-turtle-toe board on the web page is also
          represented in the bunnyTurtleBoard array. 

          If player1 clicks #square0 div, then event.target.id == "square0";
          so bunnyTurtleBoard[0] will be equal to "player1"
          */
          if (event.target.id == "square0") {
            bunnyTurtleBoard[0] = players[0].player;
          } 
          else if (event.target.id == "square1") {
            bunnyTurtleBoard[1] = players[0].player;
          }
          else if (event.target.id == "square2") {
            bunnyTurtleBoard[2] = players[0].player;
          }
          else if (event.target.id == "square3") {
            bunnyTurtleBoard[3] = players[0].player;
          }
          else if (event.target.id == "square4") {
            bunnyTurtleBoard[4] = players[0].player;
          }
          else if (event.target.id == "square5") {
            bunnyTurtleBoard[5] = players[0].player;
          }
          else if (event.target.id == "square6") {
            bunnyTurtleBoard[6] = players[0].player;
          }
          else if (event.target.id == "square7") {
            bunnyTurtleBoard[7] = players[0].player;
          }
          else if (event.target.id == "square8") {
            bunnyTurtleBoard[8] = players[0].player;
          }

          //CHECK IF BUNNY WON. 
          checkIfPlayerWon(players[0].player);

          //Once player1 takes its turn, turn will go over to player2. 
          players[0].turn = false;
          players[1].turn = true;

          //#player-turn paragraph will now display "Turn: player2"
          document.getElementById("player-turn").innerHTML = "player2";
        }

        else if (players[1].turn == true) { //if Turtle's turn...
          //player Turtle takes its turn.
          let img = document.createElement("img");
          img.src = "images/turtle.png";
          img.style.cssText = "width: 100%";
          document.getElementById(event.target.id).appendChild(img);

          /* The visible bunny-turtle board on the web page is also 
          represented in the bunnyTurtleBoard array.

          If the player2 clicks #square0 div, then event.target.id == "square0";
          so bunnyTurtleBoard[0] will be equal to "player2"
          */
          if (event.target.id == "square0") {
            bunnyTurtleBoard[0] = players[1].player;
          } 
          else if (event.target.id == "square1") {
            bunnyTurtleBoard[1] = players[1].player;
          }
          else if (event.target.id == "square2") {
            bunnyTurtleBoard[2] = players[1].player;
          }
          else if (event.target.id == "square3") {
            bunnyTurtleBoard[3] = players[1].player;
          }
          else if (event.target.id == "square4") {
            bunnyTurtleBoard[4] = players[1].player;
          }
          else if (event.target.id == "square5") {
            bunnyTurtleBoard[5] = players[1].player;
          }
          else if (event.target.id == "square6") {
            bunnyTurtleBoard[6] = players[1].player;
          }
          else if (event.target.id == "square7") {
            bunnyTurtleBoard[7] = players[1].player;
          }
          else if (event.target.id == "square8") {
            bunnyTurtleBoard[8] = players[1].player;
          }

          //CHECK IF TURTLE WON. 
          checkIfPlayerWon(players[1].player);

          //Once player2 takes its turn, turn will go over to player1.
          players[1].turn = false;
          players[0].turn = true;

          //#player-turn paragraph will display Turn: player1
          document.getElementById("player-turn").innerHTML = "player1";
        }
      });

      function startingPlayer() { 
        /*
        1) Goal: This function will randomly determine which player begans first in Bunny-Turtle-Toe.
        */

        //startingPlayer will equal either "Bunny" or "Turtle"
        let randomIndex = Math.floor(Math.random() * players.length);
        let startingPlayer = players[randomIndex].player;

        //#player-turn paragraph will display startingPlayer
        document.getElementById("player-turn").innerHTML = startingPlayer;
        
        /*
        If startingPlayer equals "player1", then players[0].turn will equal true,
        while players[1].turn will equal false. 

        If startingPlayer equals "player2", then players[1].turn will equal true,
        while players[0].turn will equal false. 
        */
        if (startingPlayer == "player1") {
          players[0].turn = true;
          players[1].turn = false;
        } 
        else if (startingPlayer == "player2") {
          players[1].turn = true;
          players[0].turn = false;
        }
      }

      function checkIfPlayerWon(boardPlayer) { 
        /*
        1) Goal: This function receives the boardPlayer, which is "player1" or "player2", and then checks if the boardPlayer won.
        */
        if (bunnyTurtleBoard[0] == boardPlayer && bunnyTurtleBoard[1] == boardPlayer && bunnyTurtleBoard[2] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[3] == boardPlayer && bunnyTurtleBoard[4] == boardPlayer && bunnyTurtleBoard[5] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[6] == boardPlayer && bunnyTurtleBoard[7] == boardPlayer && bunnyTurtleBoard[8] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[0] == boardPlayer && bunnyTurtleBoard[3] == boardPlayer && bunnyTurtleBoard[6] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[1] == boardPlayer && bunnyTurtleBoard[4] == boardPlayer && bunnyTurtleBoard[7] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[2] == boardPlayer && bunnyTurtleBoard[5] == boardPlayer && bunnyTurtleBoard[8] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[0] == boardPlayer && bunnyTurtleBoard[4] == boardPlayer && bunnyTurtleBoard[8] == boardPlayer) {
            winner = boardPlayer;
          }
          else if (bunnyTurtleBoard[2] == boardPlayer && bunnyTurtleBoard[4] == boardPlayer && bunnyTurtleBoard[6] == boardPlayer) {
            winner = boardPlayer;
          }

          //If a winner exists, the lines of code inside the if statement will display the winner on the screen. 
          if (winner == boardPlayer) {
            let winnerDisplayScreen = document.createElement("div");
            winnerDisplayScreen.style.cssText = "position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background-color: rgba(0,0,0,0.1);";
            document.getElementById("bunny-turtle-toe-DIV").appendChild(winnerDisplayScreen);

            let winnerDisplayBox = document.createElement("div");
            winnerDisplayBox.style.cssText = "position: absolute; top: 50%; left: 38%; background-color: black; padding: 10px 12px 10px 12px; border-radius: 10px;";
            winnerDisplayScreen.appendChild(winnerDisplayBox);

            let winnerText = document.createElement("p");
            winnerText.innerHTML = "Victory: " + winner;
            winnerText.style.cssText = "color: white;"
            winnerDisplayBox.appendChild(winnerText);
          }
      }

      
      function characterSelection(characterSelectionTimeBooleanValue) {
        //players' name displayed in character selection page
        document.getElementById("player-1-name").innerHTML = players[0].player;
        document.getElementById("player-2-name").innerHTML = players[1].player;

        /*
        if it is characterSelection time, then the tic-tac-toe board will be invisible while the
        character-selection will be visible 
        */
        if (characterSelectionTimeBooleanValue == true) {
          document.getElementById("middle-div").style.cssText = "opacity: 0;";
          document.getElementById("bottom-div").style.cssText = "opacity: 0;";

          document.getElementById("player-1-character-selection-div").style.cssText = "opacity: 1; top: 25%;";
          document.getElementById("player-2-character-selection-div").style.cssText = "opacity: 1; top: 75%;";
        }

        /*
        if it is not characterSelection time, then the tic-tac-toe board will become visible while the character selection
        will become invisible 
        */
        else if (characterSelectionTimeBooleanValue == false) {
          document.getElementById("middle-div").style.cssText = "opacity: 1;";
          document.getElementById("bottom-div").style.cssText = "opacity: 1;";

          document.getElementById("player-1-character-selection-div").style.cssText = "opacity: 1; top: -200px;";
          document.getElementById("player-2-character-selection-div").style.cssText = "opacity: 1; top: -200px;";
        }
      }

      /*
      //The lines of code below does this: if the player hovers over the character's image,
      then #player-1-character-description paragraph will display that character's ultimate.

        Characters' Ultimates: 
        Turtle:
        - The turtle will place its shell on a square. The opponent will have two choices: 1) if the opponent uses
        its turn to break the shell, then nothing will happen. 2) if the opponent doesn't use its turn to break
        the shell, then after his turn, the shell will slide in one direction and empty all the squares.
        Bunny: 
        - With its agility, the bunny can place two squares in one turn. 
        Genghis Khan:
        - Genghis Khan -- the Khan of Khans -- has set out to capture all the lands under the Eternal Blue Sky, and also
        one of his opponent's squares. 
        Doctor Strange:
        - With his time stone, Doctor Strange can reverse time, whcih means reversing the last two turns. If 
        his opponent activated his ultimate within the last two turns, then the opponent will get its ultimate back.  
        Scarlet Witch:
        - Able to control minds, Scarlet Witch can make her opponent's next turn be out of his control and just
        randomly placed on the tic-tac-toe board. 
        Steve (Minecraft):
        - Steve has no ultimate. 
      */

      document.getElementById("player-1-bunny").addEventListener("mouseover", function(event) {
        document.getElementById("player-1-character-description").innerHTML = "Ultimate: With its agility, the bunny can place two squares in one turn."
      });

      document.getElementById("player-1-turtle").addEventListener("mouseover", function(event) {
        document.getElementById("player-1-character-description").innerHTML = "Ultimate: The Turtle will place its shell on a square. If the opponent does not break the shell with his next turn, then the shell will randomly slide in one direction and empty that direction's squares."

      });

      document.getElementById("player-1-genghiskhan").addEventListener("mouseover", function(event) {
        document.getElementById("player-1-character-description").innerHTML = "Ultimate: Genghis Khan -- the Khan of Khans -- has set out to capture all the lands under the Eternal Blue Sky, and also one of his opponent's squares."
      });

      document.getElementById("player-1-doctorstrange").addEventListener("mouseover", function(event) {
        document.getElementById("player-1-character-description").innerHTML = "With his time stone, Doctor Strange can reverse time, which means reversing the last two turns. If his opponent activated his ultimate within the last two turns, then the opponent will get his ultimate back."
      });

      document.getElementById("player-1-scarletwitch").addEventListener("mouseover", function(event) {
        document.getElementById("player-1-character-description").innerHTML = "Able to control minds, Scarlet Witch will make her opponent's next move be randomly placed on the tic-tac-toe board."
      });

      document.getElementById("player-1-steve").addEventListener("mouseover", function(event) {
        document.getElementById("player-1-character-description").innerHTML = "Steve has no ultimate. Just like his default skin, he must play default."
      });

      document.getElementById("player-2-bunny").addEventListener("mouseover", function(event) {
        document.getElementById("player-2-character-description").innerHTML = "Ultimate: With its agility, the bunny can place two squares in one turn."
      });

      document.getElementById("player-2-turtle").addEventListener("mouseover", function(event) {
        document.getElementById("player-2-character-description").innerHTML = "Ultimate: The Turtle will place its shell on a square. If the opponent does not break the shell with his next turn, then the shell will randomly slide in one direction and empty that direction's squares."
      });

      document.getElementById("player-2-genghiskhan").addEventListener("mouseover", function(event) {
        document.getElementById("player-2-character-description").innerHTML = "Ultimate: Genghis Khan -- the Khan of Khans -- has set out to capture all the lands under the Eternal Blue Sky, and also one of his opponent's squares."
      });

      document.getElementById("player-2-doctorstrange").addEventListener("mouseover", function(event) {
        document.getElementById("player-2-character-description").innerHTML = "With his time stone, Doctor Strange can reverse time, which means reversing the last two turns. If his opponent activated his ultimate within the last two turns, then the opponent will get his ultimate back."
      });

      document.getElementById("player-2-scarletwitch").addEventListener("mouseover", function(event) {
        document.getElementById("player-2-character-description").innerHTML = "Able to control minds, Scarlet Witch will make her opponent's next move be randomly placed on the tic-tac-toe board."
      });

      document.getElementById("player-2-steve").addEventListener("mouseover", function(event) {
        document.getElementById("player-2-character-description").innerHTML = "Steve has no ultimate. Just like his default skin, he must play default."
      });

      //character description code (^^^) ends here. 


      /*
      1) Goal: If a player clicks a character image, then the character image will have a box shadow.
      If a player then clicks another character image, then the first character image will be unselected and the second character
      image will be selected. 
      */

      let player1SelectedCharacter = "";

      document.getElementById("player-1-character-selection-images-div").addEventListener("click", function(event) { //If a character image is clicked, then this function(event) will run.
        if (event.target.id !== "player-1-character-selection-images-div") { //if event.target.id is not empty space but is actually a character's image
          document.getElementById(event.target.id).style.cssText = "box-shadow: 0px 0px 2px 2px rgb(0,0,0);"; //the character's image will receive a box shadow 

          if (player1SelectedCharacter.length > 1) {
            document.getElementById(player1SelectedCharacter).style.cssText = "box-shadow: none;";
          }
          player1SelectedCharacter = event.target.id; 
        }
      });


      let player2SelectedCharacter = "";

      document.getElementById("player-2-character-selection-images-div").addEventListener("click", function(event) { //If a character image is clicked, then this function(event) will run.
        if (event.target.id !== "player-2-character-selection-images-div") { //if event.target.id is not empty space but is actually a character's image
          document.getElementById(event.target.id).style.cssText = "box-shadow: 0px 0px 2px 2px rgb(0,0,0);"; //the character's image will receive a box shadow 

          if (player2SelectedCharacter.length > 1) {
            document.getElementById(player2SelectedCharacter).style.cssText = "box-shadow: none;";
          }
          player2SelectedCharacter = event.target.id; 
        }
      });






    </script>
  </body>
</html>

