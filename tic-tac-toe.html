<!--
  Goal: Use my current knowledge of HTML, CSS, and Javascript to create the Tic-Tae-Toe game 
  without any video tutorial except for the help of online resources, including stackoverflow, 
  geeksforgeeks, and w3school. 
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Bunny-Turtle-Toe</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Carter+One&display=swap" rel="stylesheet">

    <style>
      body {
        font-family: 'Carter One', cursive;
      }

      p {
        display: inline-block;
        margin: 0px;
      }

      #body-div {
        display:inline-flex;
      }

      #bunny-turtle-toe-DIV {
        display:flex;
        flex-direction: column;
        align-items: center;
      }

      #bunny-in-the-title, #bunny-scoreboard {
        color: rgb(243,170,184);
      }

      #turtle-in-the-title, #turtle-scoreboard {
        color: rgb(19,137,102);
      }

      #toe-in-the-title {
        color: rgb(201,142,130);
      }

      #middle-div {
        display:grid;
        grid-template-rows: 170px 170px 170px;
        grid-template-columns: 170px 170px 170px;

        border-style: solid;
        border-color: black;
      }

      .bunny-turtle-toe-squares {
        border-style: solid;
        border-color: black;
      }

      #bottom-div {
        display:flex;
        flex-direction: row;

        margin-top: 20px;
      }

      #turtle-scoreboard-div {
        margin-left: 50px;
        margin-right: 50px;
      }

    </style>
  </head>

  <body>
    <div id="body-div">
      <div id="bunny-turtle-toe-DIV">
        <div id="top-div"> <!--title: Bunny-Turtle-Toe-->
          <h1><span id="bunny-in-the-title">Bunny</span>-<span id="turtle-in-the-title">Turtle</span>-<span id="toe-in-the-title">Toe</span></h1>
        </div>
  
        <div id="middle-div"> 
          <div id="square0" class="bunny-turtle-toe-squares"></div>
          <div id="square1" class="bunny-turtle-toe-squares"></div>
          <div id="square2" class="bunny-turtle-toe-squares"></div>
          <div id="square3" class="bunny-turtle-toe-squares"></div>
          <div id="square4" class="bunny-turtle-toe-squares"></div>
          <div id="square5" class="bunny-turtle-toe-squares"></div>
          <div id="square6" class="bunny-turtle-toe-squares"></div>
          <div id="square7" class="bunny-turtle-toe-squares"></div>
          <div id="square8" class="bunny-turtle-toe-squares"></div>
        </div>
  
        <div id="bottom-div">
          <div id="bunny-scoreboard-div"> <!--bunny wins: #-->
            <p id="bunny-scoreboard">Bunny Wins: </p>
            <p> 0</p>
          </div>
  
          <div id="turtle-scoreboard-div"> <!--turtle wins: #-->
            <p id="turtle-scoreboard">Turtle Wins:</p>
            <p> 0</p>
          </div>

          <div id="player-turn-div">
            <p>Turn: </p>
            <p id="player-turn"></p>
          </div>
        </div>
      </div>
    </div>

    <script>
      const players = [
        {
          player: "Bunny",
          turn: null
        },
        {
          player: "Turtle",
          turn: null
        }];

      let bunnyTurtleBoard = [
        "","","", //[0] == square0,[1] == square1,[2] == square2,
        "","","", //[3] == square3,[4] == square4,[5] == square5,
        "","",""  //[6] == square6,[7] == square7,[8] == square8
      ];

      let winner = "";

      startingPlayer();

      document.getElementById("middle-div").addEventListener("click", function(event) {
        if (players[0].turn == true) { //if Bunny's turn...
          //player Bunny takes its turn.
          let img = document.createElement("img");
          img.src = "images/bunny.png";
          img.style.cssText = "width: 100%";
          document.getElementById(event.target.id).appendChild(img);

          /* The visible bunny-turtle-toe board on the web page is also
          represented in the bunnyTurtleBoard array. 

          If Bunny clicks #square0 div, then event.target.id == "square0";
          so bunnyTurtleBoard[0] will be equal to "Bunny"
          */
          if (event.target.id == "square0") {
            bunnyTurtleBoard[0] = "Bunny";
          } 
          else if (event.target.id == "square1") {
            bunnyTurtleBoard[1] = "Bunny";
          }
          else if (event.target.id == "square2") {
            bunnyTurtleBoard[2] = "Bunny";
          }
          else if (event.target.id == "square3") {
            bunnyTurtleBoard[3] = "Bunny";
          }
          else if (event.target.id == "square4") {
            bunnyTurtleBoard[4] = "Bunny";
          }
          else if (event.target.id == "square5") {
            bunnyTurtleBoard[5] = "Bunny";
          }
          else if (event.target.id == "square6") {
            bunnyTurtleBoard[6] = "Bunny";
          }
          else if (event.target.id == "square7") {
            bunnyTurtleBoard[7] = "Bunny";
          }
          else if (event.target.id == "square8") {
            bunnyTurtleBoard[8] = "Bunny";
          }

          //CHECK IF BUNNY WON. 
          if (bunnyTurtleBoard[0] == "Bunny" && bunnyTurtleBoard[1] == "Bunny" && bunnyTurtleBoard[2] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[3] == "Bunny" && bunnyTurtleBoard[4] == "Bunny" && bunnyTurtleBoard[5] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[6] == "Bunny" && bunnyTurtleBoard[7] == "Bunny" && bunnyTurtleBoard[8] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[0] == "Bunny" && bunnyTurtleBoard[3] == "Bunny" && bunnyTurtleBoard[6] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[1] == "Bunny" && bunnyTurtleBoard[4] == "Bunny" && bunnyTurtleBoard[7] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[2] == "Bunny" && bunnyTurtleBoard[5] == "Bunny" && bunnyTurtleBoard[8] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[0] == "Bunny" && bunnyTurtleBoard[4] == "Bunny" && bunnyTurtleBoard[8] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }
          else if (bunnyTurtleBoard[2] == "Bunny" && bunnyTurtleBoard[4] == "Bunny" && bunnyTurtleBoard[6] == "Bunny") {
            winner = "Bunny";
            console.log(winner + " wins!");
          }

          //Once Bunny takes its turn, turn will go over to Turtle. 
          players[0].turn = false;
          players[1].turn = true;

          //#player-turn paragraph will now display "Turn: Turtle"
          document.getElementById("player-turn").innerHTML = "Turtle";
        }



        else if (players[1].turn == true) { //if Turtle's turn...
          //player Turtle takes its turn.
          let img = document.createElement("img");
          img.src = "images/turtle.png";
          img.style.cssText = "width: 100%";
          document.getElementById(event.target.id).appendChild(img);

          /* The visible bunny-turtle board on the web page is also 
          represented in the bunnyTurtleBoard array.

          If the Turtle clicks #square0 div, then event.target.id == "square0";
          so bunnyTurtleBoard[0] will be equal to "Turtle"
          */
          if (event.target.id == "square0") {
            bunnyTurtleBoard[0] = "Turtle";
          } 
          else if (event.target.id == "square1") {
            bunnyTurtleBoard[1] = "Turtle";
          }
          else if (event.target.id == "square2") {
            bunnyTurtleBoard[2] = "Turtle";
          }
          else if (event.target.id == "square3") {
            bunnyTurtleBoard[3] = "Turtle";
          }
          else if (event.target.id == "square4") {
            bunnyTurtleBoard[4] = "Turtle";
          }
          else if (event.target.id == "square5") {
            bunnyTurtleBoard[5] = "Turtle";
          }
          else if (event.target.id == "square6") {
            bunnyTurtleBoard[6] = "Turtle";
          }
          else if (event.target.id == "square7") {
            bunnyTurtleBoard[7] = "Turtle";
          }
          else if (event.target.id == "square8") {
            bunnyTurtleBoard[8] = "Turtle";
          }

          //CHECK IF TURTLE WON. 

          //Once Turtle takes its turn, turn will go over to Bunny.
          players[1].turn = false;
          players[0].turn = true;

          //#player-turn paragraph will display Turn: Bunny
          document.getElementById("player-turn").innerHTML = "Bunny";
        }
      });

      function startingPlayer() { 
        /*
        1) Goal: This function will randomly determine which player begans first in Bunny-Turtle-Toe.
        */

        //startingPlayer will equal either "Bunny" or "Turtle"
        let randomIndex = Math.floor(Math.random() * players.length);
        let startingPlayer = players[randomIndex].player;

        //#player-turn paragraph will display startingPlayer
        document.getElementById("player-turn").innerHTML = startingPlayer;
        
        /*
        If startingPlayer equals "Bunny", then players[0].turn will equal true,
        while players[1].turn will equal false. 

        If startingPlayer equals "Turtle", then players[1].turn will equal true,
        while players[0].turn will equal false. 
        */
        if (startingPlayer == "Bunny") {
          players[0].turn = true;
          players[1].turn = false;
        } 
        else if (startingPlayer == "Turtle") {
          players[1].turn = true;
          players[0].turn = false;
        }
      }
    </script>
  </body>
</html>